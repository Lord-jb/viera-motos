<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Avelloz Motos</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <div id="login-screen" class="login-container">
      <div class="login-box">
        
        <svg class="admin-logo" width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM10.6783 15.8443L7.15575 12.3217C6.86286 12.0288 6.86286 11.554 7.15575 11.2611L8.21658 10.2002C8.50947 9.90733 8.98431 9.90733 9.2772 10.2002L11.2087 12.1317L14.7228 8.61756C15.0157 8.32467 15.4905 8.32467 15.7834 8.61756L16.8443 9.67839C17.1371 9.97128 17.1371 10.4461 16.8443 10.739L11.739 15.8443C11.4461 16.1371 10.9713 16.1371 10.6783 15.8443Z" fill="#f36523"/>
        </svg>

        <h2>Acesso ao Painel</h2>
        <p>Faça login para continuar.</p>
        <form id="login-form">
          <div class="form-group">
            <label for="login-email">Email</label>
            <input type="email" id="login-email" required />
          </div>
          <div class="form-group">
            <label for="login-password">Senha</label>
            <input type="password" id="login-password" required />
          </div>
          <button type="submit" class="btn-submit">Entrar</button>
          <div id="login-error" class="error-message"></div>
        </form>
      </div>
    </div>

    <div id="admin-panel" style="display:none">
        
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>Admin Avelloz</h3>
                <small id="user-email"></small>
            </div>
            <nav class="sidebar-nav" id="admin-sidebar-menu">
                <ul>
                    <li><a href="#" data-view="dashboard" data-view-title="Dashboard"><i class="fa-solid fa-gauge"></i> Dashboard</a></li>
                    <li><a href="#" data-view="models" data-view-title="Gerenciar Modelos"><i class="fa-solid fa-motorcycle"></i> Modelos</a></li>
                    <li><a href="#" data-view="leads" data-view-title="Leads Recebidos"><i class="fa-solid fa-inbox"></i> Leads</a></li>
                    <li><a href="#" data-view="banners" data-view-title="Gerenciar Banners"><i class="fa-solid fa-image"></i> Banners</a></li>
                    <li><a href="#" data-view="settings" data-view-title="Configurações"><i class="fa-solid fa-gears"></i> Configurações</a></li>
                    <li><a href="#" data-view="audit" data-view-title="Logs de Auditoria"><i class="fa-solid fa-shield-halved"></i> Auditoria</a></li>
                    <li><a href="#" id="logout-button"><i class="fa-solid fa-arrow-right-from-bracket"></i> Sair</a></li>
                </ul>
            </nav>
        </aside>

        <div id="sidebar-backdrop" class="sidebar-backdrop"></div>

        <main id="content-area" class="main-content">
            <header class="admin-topbar">
                <button id="sidebar-toggle" class="icon-button" aria-label="Alternar menu">
                    <i class="fa-solid fa-bars"></i>
                </button>
                <h2 id="view-title" class="topbar-title">Dashboard</h2>
            </header>
            
            <div class="view-container">
                
                <div class="view" id="dashboard-view">
                    <h2>Dashboard</h2>
                    
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-label">Leads (Test-Ride)</div>
                            <div class="metric-value" id="metric-test-rides">--</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Leads (Consórcio)</div>
                            <div class="metric-value" id="metric-queries">--</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Modelos Ativos</div>
                            <div class="metric-value" id="metric-models">--</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Visitas (Hoje)</div>
                            <div class="metric-value">--</div>
                        </div>
                    </div>

                    <div class="activity-feed">
                        <h3>Atividade Recente</h3>
                        <div class="activity-item">
                            <div class="activity-icon" style="background-color: #e0fdef;"><i class="fa-solid fa-user-plus" style="color: #1a7f53;"></i></div>
                            <div class="activity-text">Novo lead de Test-Ride: <strong>João Silva</strong>.</div>
                            <div class="activity-time">agora</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon" style="background-color: #e0fdef;"><i class="fa-solid fa-user-plus" style="color: #1a7f53;"></i></div>
                            <div class="activity-text">Novo lead de Consórcio: <strong>Maria Oliveira</strong>.</div>
                            <div class="activity-time">15 min atrás</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon" style="background-color: #e6f3ff;"><i class="fa-solid fa-motorcycle" style="color: #0060c0;"></i></div>
                            <div class="activity-text">Modelo <strong>AZ1</strong> foi atualizado.</div>
                            <div class="activity-time">1h atrás</div>
                        </div>
                    </div>
                </div>

                <div class="view" id="models-view">
                    <h2>Gerenciar Modelos</h2>
                    <p>O JavaScript irá popular esta área. (Ex: formulário de cadastro/edição de modelos).</p>
                </div>

                <div class="view" id="leads-view">
                    <div class="tabs">
                        <button class="tab-link active" data-tab="test-rides">Test-Rides</button>
                        <button class="tab-link" data-tab="order-queries">Consultas de Pedido</button>
                    </div>
        
                    <div id="test-rides" class="tab-content active">
                        <h3>Agendamentos de Test-Ride</h3>
                        <div class="table-wrapper">
                            <table id="test-rides-table" class="admin-table">
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>Telefone</th>
                                        <th>Email</th>
                                        <th>Modelo</th>
                                        <th>Data</th>
                                    </tr>
                                </thead>
                                <tbody id="test-rides-tbody">
                                    </tbody>
                            </table>
                        </div>
                    </div>
        
                    <div id="order-queries" class="tab-content">
                        <h3>Consultas de Consórcio/Financiamento</h3>
                        <div class="table-wrapper">
                            <table id="order-queries-table" class="admin-table">
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>Telefone</th>
                                        <th>Email</th>
                                        <th>Mensagem</th>
                                    </tr>
                                </thead>
                                <tbody id="order-queries-tbody">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="view" id="banners-view">
                    <h2>Banners</h2>
                    <div class="admin-content">
                      <div class="content-card">
                        <h3>Novo/Editar Banner</h3>
                        <form id="banner-form">
                          <div class="form-grid">
                            <div class="form-group"><label for="b-title">Título</label><input id="b-title" placeholder="Ex.: Super oferta" /></div>
                            <div class="form-group form-group-full"><label for="b-image">URL da Imagem</label><input id="b-image" type="url" placeholder="https://..." /></div>
                            <div class="form-group"><label for="b-cta-text">Texto do CTA</label><input id="b-cta-text" placeholder="Ex.: Comprar agora" /></div>
                            <div class="form-group"><label for="b-cta-url">URL do CTA</label><input id="b-cta-url" type="url" placeholder="https://..." /></div>
                            <div class="form-group"><label for="b-order">Ordem</label><input id="b-order" type="number" value="0" /></div>
                            <div class="form-group"><label for="b-published">Status</label>
                              <select id="b-published">
                                <option value="true">Publicado</option>
                                <option value="false">Rascunho</option>
                              </select>
                            </div>
                          </div>
                          <div style="margin-top:1rem;display:flex;gap:2rem;align-items:center;">
                            <div><img id="b-preview" alt="Preview" style="width:320px;max-width:100%;height:auto;display:none;border-radius:6px;border:1px solid var(--color-border);background:#000;"></div>
                            <div class="form-actions">
                              <button type="submit" id="b-save" class="btn-submit">Salvar</button>
                              <button type="button" id="btn-new" class="btn-secondary">Novo</button>
                              <button type="button" id="btn-delete" class="btn-secondary" style="background:#eee;">Excluir</button>
                              <p id="b-feedback" class="form-feedback"></p>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div class="content-card">
                        <h3>Lista de Banners</h3>
                        <div id="banners-list"></div>
                      </div>
                    </div>
                </div>

                <div class="view" id="settings-view">
                  <h2>Configurações Gerais</h2>
                  <div class="content-card">
                    <h3>Informações Básicas</h3>
                    <form id="settings-form">
                      <div class="form-grid">
                        <div class="form-group"><label for="s-title">Título do Site</label><input id="s-title" placeholder="Ex.: Viera Motos - Avelloz" /></div>
                        <div class="form-group form-group-full"><label for="s-description">Descrição</label><textarea id="s-description" rows="3" placeholder="Breve descrição para SEO e metadados."></textarea></div>
                      </div>
                      <hr>
                      <h3>Redes Sociais</h3>
                      <div class="form-grid">
                        <div class="form-group"><label for="s-instagram">Instagram</label><input id="s-instagram" type="url" placeholder="https://instagram.com/..." /></div>
                        <div class="form-group"><label for="s-facebook">Facebook</label><input id="s-facebook" type="url" placeholder="https://facebook.com/..." /></div>
                        <div class="form-group"><label for="s-youtube">YouTube</label><input id="s-youtube" type="url" placeholder="https://youtube.com/..." /></div>
                        <div class="form-group"><label for="s-tiktok">TikTok</label><input id="s-tiktok" type="url" placeholder="https://tiktok.com/@..." /></div>
                      </div>
                      <hr>
                      <h3>Contatos</h3>
                      <div class="form-grid">
                        <div class="form-group"><label for="s-email">Email</label><input id="s-email" type="email" placeholder="contato@exemplo.com" /></div>
                        <div class="form-group"><label for="s-phone">Telefone</label><input id="s-phone" type="tel" placeholder="(xx) xxxxx-xxxx" /></div>
                        <div class="form-group form-group-full"><label for="s-address">Endereço</label><input id="s-address" placeholder="Rua, nº, bairro, cidade" /></div>
                        <div class="form-group"><label for="s-whatsapp">WhatsApp</label><input id="s-whatsapp" placeholder="55DDDNÚMERO (somente dígitos)" /></div>
                      </div>
                      <hr>
                      <h3>Cores da Marca</h3>
                      <div class="form-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <div class="form-group"><label for="c-primary">Primária</label><input id="c-primary" type="color" value="#0D1B2A" /></div>
                        <div class="form-group"><label for="c-secondary">Secundária</label><input id="c-secondary" type="color" value="#FF6F00" /></div>
                        <div class="form-group"><label for="c-dark">Escura</label><input id="c-dark" type="color" value="#0D1B2A" /></div>
                        <div class="form-group"><label for="c-light">Clara</label><input id="c-light" type="color" value="#F4F4F4" /></div>
                      </div>
                      <div class="form-actions" style="margin-top:1.6rem;">
                        <button type="submit" id="btn-save" class="btn-submit">Salvar</button>
                        <button type="button" id="btn-reset" class="btn-secondary">Recarregar</button>
                        <p id="settings-feedback" class="form-feedback"></p>
                      </div>
                    </form>
                  </div>
                </div>

                <div class="view" id="audit-view">
                  <h2>Logs de Auditoria</h2>
                  <div class="content-card">
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                      <div style="font-size:1.4rem;color:#666;">Total: <span id="audit-count">0</span></div>
                    </div>
                  </div>
                  <div class="content-card">
                    <div class="table-wrapper">
                      <table class="admin-table" id="audit-table">
                        <thead>
                          <tr>
                            <th>Data</th>
                            <th>Usuário</th>
                            <th>Ação</th>
                            <th>Alvo</th>
                          </tr>
                        </thead>
                        <tbody id="audit-tbody"></tbody>
                      </table>
                    </div>
                  </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="admin.js"></script>
</body>
</html>